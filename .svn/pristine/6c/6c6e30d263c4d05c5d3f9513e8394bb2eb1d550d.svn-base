(function(B){var A;B.fn.jqprint=function(E){A=B.extend({},B.fn.jqprint.defaults,E);var F=(this instanceof jQuery)?this:B(this);if(A.operaSupport&&B.browser.opera){var D=window.open("","jqPrint-preview");D.document.open();var G=D.document}else{var C=B("<iframe  />");if(!A.debug){C.css({position:"absolute",width:"0px",height:"0px",left:"-600px",top:"-600px"})}C.appendTo("body");var G=C[0].contentWindow.document}if(A.importCSS){if(B("link[media=print]").length>0){B("link[media=print]").each(function(){G.write("<link type='text/css' rel='stylesheet' href='"+B(this).attr("href")+"' media='print' />")})}else{B("link").each(function(){G.write("<link type='text/css' rel='stylesheet' href='"+B(this).attr("href")+"' />")})}}if(A.printContainer){G.write(F.outer())}else{F.each(function(){G.write(B(this).html())})}G.close();(A.operaSupport&&B.browser.opera?D:C[0].contentWindow).focus();setTimeout(function(){(A.operaSupport&&B.browser.opera?D:C[0].contentWindow).print();if(D){D.close()}},1000)};B.fn.jqprint.defaults={debug:false,importCSS:true,printContainer:true,operaSupport:true};jQuery.fn.outer=function(){return B(B("<div></div>").html(this.clone())).html()}})(jQuery);